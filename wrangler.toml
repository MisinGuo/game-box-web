#:schema node_modules/wrangler/config-schema.json

# Cloudflare Workers 配置
name = "game-box"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Worker 入口文件
main = ".open-next/worker.js"

# 静态资源配置
[assets]
directory = ".open-next/assets"
binding = "ASSETS"

# 自引用服务（用于 ISR）
[[services]]
binding = "WORKER_SELF_REFERENCE"
service = "game-box"

# 环境变量 - 标记为 Workers 模式，启用按需生成
[vars]
CLOUDFLARE_WORKERS = "true"
